!function(a,b,c){"use strict";var d=function(){this.init()};d.prototype.init=function(){this.$editor=c("#editor"),this.$comboLanguages=c("#combo-language"),this.id=this.guid(),this.canSend=!0,this.canSendLanguage=!0,this.aceEditorInit(),this.bindEvents()},d.prototype.aceEditorInit=function(){var a=this.$editor.attr("data-content"),b=this.$editor.attr("data-lang");this.aceEditor=ace.edit("editor"),this.aceEditor.$blockScrolling=1/0,this.aceEditor.setShowPrintMargin(!1),this.aceEditor.setOption("wrap","free"),this.aceEditor.setTheme("ace/theme/monokai"),this.$editor.css("font-size","13px"),this.setValue(a),this.setLanguageHighlight(b)},d.prototype.setValue=function(a){this.aceEditor.setValue(a,-1)},d.prototype.getLanguage=function(){return this.$comboLanguages.val()},d.prototype.setLanguageHighlight=function(a){var b=ace.require("ace/mode/"+a).Mode;this.aceEditor.session.setMode(new b)},d.prototype.bindEvents=function(){var a=this;this.aceEditor.getSession().on("change",function(b){if(a.canSend){var c={id:a.id,text:a.aceEditor.getValue()};webSocket.socket.emit("broad",c)}}),this.$comboLanguages.on("change",function(){var b=a.getLanguage();a.setLanguageHighlight(b),a.canSendLanguage&&webSocket.socket.emit("language",b)})},d.prototype.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},a.Editor=d}(window,document,$);